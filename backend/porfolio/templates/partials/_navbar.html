
{% load static %}

<nav class="navbar navbar-expand-lg bg-light">
  <div class="container">
    <a class="navbar-brand" href="/"><img src="{% static 'images/liaimalogo.png' %}" alt="" class="w-50"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto bg-yellow">
        <li class="nav-item">
          <a class="nav-link" href="/">Porfolio</a>
        </li>
        <li class="nav-item d-flex align-items-center px-2">
          <a class="btn btn-outline-secondary btn-md rounded-0" href="https://github.com/liaima" target="_blank"><i class="bi bi-github"></i> GitHub</a>
        </li>
        <li class="nav-item d-flex align-items-center px-2">
          <a class="btn btn-outline-secondary btn-md rounded-0" href="https://gitlab.com/liaimasoft" target="_blank">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gitlab" viewBox="0 0 16 16">
              <path d="m15.734 6.1-.022-.058L13.534.358a.57.57 0 0 0-.563-.356.6.6 0 0 0-.328.122.6.6 0 0 0-.193.294l-1.47 4.499H5.025l-1.47-4.5A.572.572 0 0 0 2.47.358L.289 6.04l-.022.057A4.044 4.044 0 0 0 1.61 10.77l.007.006.02.014 3.318 2.485 1.64 1.242 1 .755a.67.67 0 0 0 .814 0l1-.755 1.64-1.242 3.338-2.5.009-.007a4.05 4.05 0 0 0 1.34-4.668Z"/>
            </svg> 
            GitLab
          </a>
        </li>
        <li class="nav-item dropdown d-flex align-items-center px-2">
          <a class="btn btn-warning btn-md rounded-0 nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false"><i class="bi bi-file-earmark-arrow-down"></i> Download CV</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" id="btn-cv-en" href="#">English Version</a></li>
            <li><a class="dropdown-item" id="btn-cv-es" href="#">Spanish Version</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="modal fade" id="cvModal" tabindex="-1" aria-labelledby="cvModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 text-secondary" id="cvModalLabel">My Rersume</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div id="cvModalBody" class="modal-body">
        <embed id="resumePdf" src="" width="100%" height="300"></embed>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script>
  const cvModal = new bootstrap.Modal('#cvModal'); 
  function loadResume(version = 'EN'){
    let src = ""
    if(version == 'EN'){
      src = "{% static 'docs/CV_EN.pdf' %}";
    } else if(version == 'ES'){
      src = "{% static 'docs/CV_ES.pdf' %}";
    }
    cvModal.toggle();
    const embed = document.getElementById('resumePdf');
    embed.src = src;
    embed.height = 70 * window.innerHeight / 100 ;
  }
  document.addEventListener("DOMContentLoaded", () => {
    document.getElementById('btn-cv-en').addEventListener('click', () => {
      loadResume('EN')
    })
    document.getElementById('btn-cv-es').addEventListener('click', () => {
      loadResume('ES')
    })
  })
</script>
